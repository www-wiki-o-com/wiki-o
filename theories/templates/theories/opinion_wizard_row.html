<!-- Wiki-O: A web service for sharing opinions and avoiding arguments.
     Copyright (C) 2018 Frank Imeson
    
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.
    
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
    
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->


{% load static %}
{% load extra %}


<!-- Hidden Fields -->
{% for hidden in form.hidden_fields %}
  {{ hidden }}
{% endfor %}
{{form.id}}

{% with theory_node=form.instance.theory_node %}

  <!-- Evidence -->
  {% if theory_node.is_evidence %}

    <tr>
      <!-- Info icons -->
      <td style="text-align:right">
        {% include "include/link.html" with x=theory_node %}
        {% include "include/info.html" with x=theory_node %}
      </td>
         
      <!-- Swap True/False -->
      <td/>
      
      <!-- Description -->
      <td style="text-align:left"> {{ theory_node.get_title }} </td>
      
      <!-- Button -->
      {% if ID_POSTFIX == '01' %}
        <td><span class="radio"> {{ form.select_collaborate.0.tag }} </span></td>
      {% else %}
        <td><span class="radio"> {{ form.select_contradict.0.tag }}  </span></td>
      {% endif %}

    </tr>

  <!-- Sub-Theory -->
  {% else %}

    <!-- True Row -->
    {% if form.display_true %}
    <tr id={{ theory_node.tag_id }}{{ ID_POSTFIX }}T style="display:table-row">
    {% else %}
    <tr id={{ theory_node.tag_id }}{{ ID_POSTFIX }}T style="display:none">
    {% endif %}
      <!-- Info icons -->
      <td style="text-align:right">
        {% include "include/link.html" with x=theory_node %}
        {% include "include/info.html" with x=theory_node %}
      </td>
      
      <!-- Swap True/False -->
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}TS style="display:table-cell; text-align:center;">
        {% if theory_node.is_subtheory %}
          <a onclick="TFSwap('{{ theory_node.tag_id }}{{ ID_POSTFIX }}')">
            <img src="{% static 'home/img/cycle.svg' %}" height='12'>
          </a>
        {% endif %}
      </td>
      <!-- Expand True/False -->
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}TC style="display:none; text-align:center;">
        {% if theory_node.is_subtheory %}
          <a onclick="TFExpand('{{ theory_node.tag_id }}{{ ID_POSTFIX }}')">
            <img src="{% static 'home/img/collapse.svg' %}" height='12'>
          </a>
        {% endif %}
      </td>
      <!-- Collapse True/False -->
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}TX style="display:none; text-align:center;">
        {% if theory_node.is_subtheory %}
          <a onclick="TFExpand('{{ theory_node.tag_id }}{{ ID_POSTFIX }}')">
            <img src="{% static 'home/img/expand.svg' %}" height='12'>
          </a>
        {% endif %}
      </td>
      
      <!-- Description -->
      <td style="text-align:left">
        {% if form.url %}
          <a class=plain href={{ form.url|add:parms.get_next }} target="_blank">
            {{ theory_node.get_true_statement }}
          </a>
        {% else %}
            {{ theory_node.get_true_statement }}
        {% endif %}
      </td>

      <!-- Button -->
      {% if ID_POSTFIX == '01' %}
        <td><span class="radio"> {{ form.select_collaborate.0.tag }} </span></td>
      {% else %}
        <td><span class="radio"> {{ form.select_contradict.0.tag }}  </span></td>
      {% endif %}

    </tr>

    <!-- False Row -->
    {% if form.display_true %}
    <tr id={{ theory_node.tag_id }}{{ ID_POSTFIX }}F style="display:none">
    {% else %}
    <tr id={{ theory_node.tag_id }}{{ ID_POSTFIX }}F style="display:table-row">
    {% endif %}
      <!-- Info icons -->
      <td id={{ theory_node.tag_id }}FL0 style="display:table-cell; text-align:right">
        {% include "include/link.html" with x=theory_node %}
        {% include "include/info.html" with x=theory_node %}
      </td>
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}FL1 style="display:none; text-align:center;"/>
      
      <!-- Swap True/False -->
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}FS style="display:table-cell; text-align:center;">
        {% if theory_node.is_subtheory %}
          <a onclick="TFSwap('{{ theory_node.tag_id }}{{ ID_POSTFIX }}')">
            <img src="{% static 'home/img/cycle.svg' %}" height='12'>
          </a>
        {% endif %}
      </td>
      <td id={{ theory_node.tag_id }}{{ ID_POSTFIX }}FX style="display:none; text-align:center;"/>
      
      <!-- Description -->
      <td style="text-align:left">
        {% if form.url %}
          <a class=plain href={{ form.url|add:parms.get_next }} target="_blank">
            <font color="red"> {{ theory_node.get_false_statement }} </font>
          </a>
        {% else %}
            <font color="red"> {{ theory_node.get_false_statement }} </font>
        {% endif %}
      </td>

      <!-- Button -->
      {% if ID_POSTFIX == '01' %}
        <td><span class="radio"> {{ form.select_collaborate.1.tag }} </span></td>
      {% else %}
        <td><span class="radio"> {{ form.select_contradict.1.tag }}  </span></td>
      {% endif %}

    </tr>

  {% endif %}

{% endwith %}

