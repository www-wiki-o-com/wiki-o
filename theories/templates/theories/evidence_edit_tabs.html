<!-- Wiki-O: A web service for sharing opinions and avoiding arguments.
     Copyright (C) 2018 Frank Imeson
    
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.
    
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
    
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->


{% load extra %}
{% load rules %}


<div class="container">
  <ul class="nav nav-tabs">
    
    <!-- Edit Evidence -->
    {% has_perm 'theories.change_theorynode' user evidence as can_edit %}
    {% if can_edit %}
      <li class="nav-item">
        {% if EvidenceTab %}
          <a class="nav-link active">
            Edit
          </a>
        {% else %}
          <a class="nav-link" href="{% url_extra 'theories:evidence-edit' evidence.id extra=parms %}">
            Edit
          </a>
        {% endif %}
      </li>
    {% endif %}

    <!-- Merge -->
    {% has_perm 'theories.merge_theorynode' user evidence as can_merge %}
    {% if can_merge %}
      <li class="nav-item">
        {% if MergeTab %} 
          <a class="nav-link active">
            Merge
          </a>
        {% else %}
          <a class="nav-link" href="{% url_extra 'theories:evidence-merge' evidence.id extra=parms %}">
            Merge
          </a>
        {% endif %}
      </li>
    {% endif %}

    <!-- Restore -->
    {% has_perm 'theories.restore_theorynode' user evidence as can_restore %}
    {% if evidence.get_revisions %}
      <li class="nav-item">
        {% if RestoreTab %}
          <a class="nav-link active">
            Restore
          </a>
        {% else %}
          <a class="nav-link" href="{% url_extra 'theories:evidence-restore' evidence.id extra=parms %}">
            Restore
          </a>
        {% endif %}
      </li>
    {% endif %}

    <!-- Activity -->
    <li class="nav-item">
      {% if ActivityTab %} 
        <a class="nav-link active">
          Activity
        </a>
      {% else %}
        <a class="nav-link" href="{% url_extra 'theories:evidence-activity' evidence.id extra=parms %}">
          Activity
        </a>
      {% endif %}
    </li>

    <!-- Report -->
    <li class="nav-item">
      {% if ReportTab %} 
        <a class="nav-link active">
          Report
        </a>
      {% else %}
        <a class="nav-link" href="{% url_extra 'theories:evidence-report' evidence.id extra=parms %}">
          Report
        </a>
      {% endif %}
    </li>

  </ul>
</div>

